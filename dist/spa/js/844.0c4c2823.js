"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[844],{9441:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(7524),n=function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(t){r(t)}}function a(e){try{c(i["throw"](e))}catch(t){r(t)}}function c(e){e.done?o(e.value):n(e.value).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const r="http://localhost:3000/",s={addMovie(e,t){return n(this,void 0,void 0,(function*(){try{const o=yield i.Z.get(`${r}favorites?idMovie=${e}&userId=${t}`);o.data[0]?console.log("pelicula ya agregada"):yield i.Z.post(`${r}favorites`,{userId:t,idMovie:e})}catch(o){console.log(o)}}))},reviewMovie(e,t){return n(this,void 0,void 0,(function*(){try{const o=yield i.Z.get(`${r}favorites?idMovie=${e}&userId=${t}`);return o.data[0]?o.data[0].id:-1}catch(o){return console.log(o),-1}}))},removeMovie(e){return n(this,void 0,void 0,(function*(){try{yield i.Z["delete"](`${r}favorites/${e}`)}catch(t){console.log(t)}}))},movieByUser(e){return n(this,void 0,void 0,(function*(){try{const t=yield i.Z.get(`${r}favorites?userId=${e}`);return t.data}catch(t){return console.log(t),!1}}))}}},9579:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(7524),n=function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(t){r(t)}}function a(e){try{c(i["throw"](e))}catch(t){r(t)}}function c(e){e.done?o(e.value):n(e.value).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const r="https://api.themoviedb.org/3/movie/",s="api_key=1b84b89236c65f17c4f3cfb56751525d",a={getPopular(e){return n(this,void 0,void 0,(function*(){try{const{data:t}=yield i.Z.get(`${r}/popular?page=${e}&${s}`);return t.results}catch(t){return console.log(t),[]}}))},getPopularByGenres(e,t){return n(this,void 0,void 0,(function*(){try{const{data:o}=yield i.Z.get(`${r}/popular?page=${t}&with_genres=${e.join(",")}&${s}`);return o.results}catch(o){return console.log(o),[]}}))},getByidMovie(e){return n(this,void 0,void 0,(function*(){try{const{data:t}=yield i.Z.get(`${r}${e}?${s}`);return t}catch(t){return console.log(t),[]}}))},getActorsByMovie(e){return n(this,void 0,void 0,(function*(){try{const{data:t}=yield i.Z.get(`${r}${e}/credits?${s}`);return t}catch(t){return console.log(t),[]}}))},getTrailersByMovie(e){return n(this,void 0,void 0,(function*(){try{const{data:t}=yield i.Z.get(`${r}${e}/videos?${s}`);return t.results}catch(t){return console.log(t),[]}}))},getMoviesFavorites(e){return n(this,void 0,void 0,(function*(){const t=[];for(let o=0;o<e.length;o++){const n=e[o].idMovie,a=yield i.Z.get(`${r}${n}?${s}`);t.push(a.data)}return t}))},getFilterMovies(e,t,o,a,c,u){return n(this,void 0,void 0,(function*(){try{const n={params:{"vote_average.gte":t.min,"vote_average.lte":t.max,"with_runtime.gte":o.min,"with_runtime.lte":o.max,with_genres:a.join(","),include_adult:!c,primary_release_year:e,page:u}},{data:d}=yield i.Z.get(`${r}popular?${s}`,n);return d.results}catch(n){console.log(n)}}))}}},7844:(e,t,o)=>{o.r(t),o.d(t,{default:()=>M});var i=o(9835),n=o(6970);const r={class:"q-my-none q-ml-lg q-mt-md"},s={class:"row wrap"},a={class:"q-my-none q-pb-md"},c={class:"q-mb-none"};function u(e,t,o,u,d,l){const v=(0,i.up)("q-img"),h=(0,i.up)("router-link"),g=(0,i.up)("q-card-section"),f=(0,i.up)("q-icon"),m=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("h3",r," Peliculas favoritas de "+(0,n.zw)(e.getName),1),(0,i._)("div",s,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.moviesinfo,((t,o)=>((0,i.wg)(),(0,i.j4)(m,{class:"cards q-ma-md",key:o},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"flex justify-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{to:{name:"movieDetails",params:{id:t.id}}},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{width:"120px",height:"180px",src:`https://image.tmdb.org/t/p/w500${t.poster_path}`},null,8,["src"])])),_:2},1032,["to"])])),_:2},1024),(0,i.Wm)(g,{class:"q-ma-none"},{default:(0,i.w5)((()=>[(0,i._)("h6",a,(0,n.zw)(t.title),1),(0,i._)("p",c,"CalificaciÃ³n: "+(0,n.zw)(t.vote_average),1),(0,i._)("p",null,"Fecha de estreno: "+(0,n.zw)(t.release_date),1)])),_:2},1024),(0,i.Wm)(f,{onClick:t=>e.deleteMovie(o),class:"q-pa-md items-center icon",name:"delete",color:"red",size:"md"},null,8,["onClick"])])),_:2},1024)))),128))])],64)}var d=o(3100),l=o(9441),v=o(9579),h=function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(t){r(t)}}function a(e){try{c(i["throw"](e))}catch(t){r(t)}}function c(e){e.done?o(e.value):n(e.value).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const g=(0,i.aZ)({name:"FavoriteMovies",data(){return{user:"",movies:[],moviesinfo:[]}},computed:Object.assign(Object.assign(Object.assign({},(0,d.Se)("auth",["getName"])),(0,d.Se)("auth",["getUser"])),(0,d.Se)("auth",["getId"])),methods:{deleteMovie(e){return h(this,void 0,void 0,(function*(){yield l.Z.removeMovie(this.movies[e].id.toString()),0===e?this.movies.shift():this.movies.splice(e,1),this.moviesinfo=yield v.Z.getMoviesFavorites(this.movies)}))}},created(){return h(this,void 0,void 0,(function*(){this.movies=yield l.Z.movieByUser(this.getId.toString()),this.moviesinfo=yield v.Z.getMoviesFavorites(this.movies)}))}});var f=o(1639),m=o(4458),p=o(3190),y=o(335),$=o(2857),w=o(9984),_=o.n(w);const Z=(0,f.Z)(g,[["render",u],["__scopeId","data-v-b1073f72"]]),M=Z;_()(g,"components",{QCard:m.Z,QCardSection:p.Z,QImg:y.Z,QIcon:$.Z})}}]);
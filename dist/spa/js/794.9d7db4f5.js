"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[794],{9214:(a,e,i)=>{i.d(e,{o:()=>l});const l=["Afganistán","Albania","Alemania","Andorra","Angola","Antigua y Barbuda","Arabia Saudita","Argelia","Argentina","Armenia","Australia","Austria","Azerbaiyán","Bahamas","Bangladés","Barbados","Baréin","Bélgica","Belice","Benín","Bielorrusia","Birmania","Bolivia","Bosnia y Herzegovina","Botsuana","Brasil","Brunéi","Bulgaria","Burkina Faso","Burundi","Bután","Cabo Verde","Camboya","Camerún","Canadá","Catar","Chad","Chile","China","Chipre","Ciudad del Vaticano","Colombia","Comoras","Corea del Norte","Corea del Sur","Costa de Marfil","Costa Rica","Croacia","Cuba","Dinamarca","Dominica","Ecuador","Egipto","El Salvador","Emiratos Árabes Unidos","Eritrea","Eslovaquia","Eslovenia","España","Estados Unidos","Estonia","Etiopía","Filipinas","Finlandia","Fiyi","Francia","Gabón","Gambia","Georgia","Ghana","Granada","Grecia","Guatemala","Guyana","Guinea","Guinea ecuatorial","Guinea-Bisáu","Haití","Honduras","Hungría","India","Indonesia","Irak","Irán","Irlanda","Islandia","Islas Marshall","Islas Salomón","Israel","Italia","Jamaica","Japón","Jordania","Kazajistán","Kenia","Kirguistán","Kiribati","Kuwait","Laos","Lesoto","Letonia","Líbano","Liberia","Libia","Liechtenstein","Lituania","Luxemburgo","Madagascar","Malasia","Malaui","Maldivas","Malí","Malta","Marruecos","Mauricio","Mauritania","México","Micronesia","Moldavia","Mónaco","Mongolia","Montenegro","Mozambique","Namibia","Nauru","Nepal","Nicaragua","Níger","Nigeria","Noruega","Nueva Zelanda","Omán","Países Bajos","Pakistán","Palaos","Palestina","Panamá","Papúa Nueva Guinea","Paraguay","Perú","Polonia","Portugal","Reino Unido","República Centroafricana","República Checa","República de Macedonia","República del Congo","República Democrática del Congo","República Dominicana","República Sudafricana","Ruanda","Rumanía","Rusia","Samoa","San Cristóbal y Nieves","San Marino","San Vicente y las Granadinas","Santa Lucía","Santo Tomé y Príncipe","Senegal","Serbia","Seychelles","Sierra Leona","Singapur","Siria","Somalia","Sri Lanka","Suazilandia","Sudán","Sudán del Sur","Suecia","Suiza","Surinam","Tailandia","Tanzania","Tayikistán","Timor Oriental","Togo","Tonga","Trinidad y Tobago","Túnez","Turkmenistán","Turquía","Tuvalu","Ucrania","Uganda","Uruguay","Uzbekistán","Vanuatu","Venezuela","Vietnam","Yemen","Yibuti","Zambia","Zimbabue"]},7794:(a,e,i)=>{i.r(e),i.d(e,{default:()=>pa});var l=i(9835),o=i(6970);const n=a=>((0,l.dD)("data-v-111f1c90"),a=a(),(0,l.Cn)(),a),t={class:"q-pa-md"},s=n((()=>(0,l._)("h4",{class:"text-h4 q-mb-lg q-mt-sm text-center title"}," Informacion personal ",-1))),r={class:"q-gutter-md"},u={class:"row"},d=n((()=>(0,l._)("div",{class:"text-subtitle2 q-mr-md profile-label"},"Nombre:",-1))),c={class:"profile-value"},m={class:"q-gutter-md"},p={class:"row"},g=n((()=>(0,l._)("div",{class:"text-subtitle2 q-mr-md profile-label"},"Usuario:",-1))),b={class:"profile-value"},f={class:"q-gutter-md"},v={class:"row"},h=n((()=>(0,l._)("div",{class:"text-subtitle2 q-mr-md profile-label"},"Email:",-1))),q={class:"profile-value"},_={class:"q-gutter-md"},y={class:"row"},w=n((()=>(0,l._)("div",{class:"text-subtitle2 q-mr-md profile-label"}," Numero de telefono: ",-1))),C={class:"profile-value"},U=n((()=>(0,l._)("h5",{class:"text-h5 q-mb-lg q-mt-sm text-center title"},"Localizacion",-1))),S={class:"q-gutter-md"},V={class:"row"},I=n((()=>(0,l._)("div",{class:"text-subtitle2 q-mr-md profile-label"},"Pais:",-1))),B={class:"profile-value"},E={class:"q-gutter-md"},Z={class:"row"},k=n((()=>(0,l._)("div",{class:"text-subtitle2 q-mr-md profile-label"},"Ciudad:",-1))),P={class:"profile-value"},x=n((()=>(0,l._)("h5",{class:"text-h5 q-mb-lg q-mt-sm text-center title"}," Información adicional ",-1))),D={class:"q-gutter-md"},M={class:"row"},z=n((()=>(0,l._)("div",{class:"text-subtitle2 q-mr-md profile-label"}," Genero favorito: ",-1))),W={class:"profile-value"};function T(a,e,i,n,T,G){const A=(0,l.up)("q-card-section"),N=(0,l.up)("q-card"),j=(0,l.up)("q-btn"),L=(0,l.up)("profile-dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",t,[(0,l.Wm)(N,{class:"q-mt-md profile-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(A,{class:"q-py-md profile-section profile-section-1"},{default:(0,l.w5)((()=>[s,(0,l._)("div",r,[(0,l._)("div",u,[d,(0,l._)("div",c,(0,o.zw)(a.information.name),1)])]),(0,l._)("div",m,[(0,l._)("div",p,[g,(0,l._)("div",b,(0,o.zw)(a.information.user),1)])]),(0,l._)("div",f,[(0,l._)("div",v,[h,(0,l._)("div",q,(0,o.zw)(a.information.email),1)])]),(0,l._)("div",_,[(0,l._)("div",y,[w,(0,l._)("div",C,(0,o.zw)(a.information.phone_number),1)])])])),_:1}),(0,l.Wm)(A,{class:"q-py-md profile-section profile-section-2"},{default:(0,l.w5)((()=>[U,(0,l._)("div",S,[(0,l._)("div",V,[I,(0,l._)("div",B,(0,o.zw)(a.information.country),1)])]),(0,l._)("div",E,[(0,l._)("div",Z,[k,(0,l._)("div",P,(0,o.zw)(a.information.city),1)])])])),_:1}),(0,l.Wm)(A,{class:"q-py-md profile-section"},{default:(0,l.w5)((()=>[x,(0,l._)("div",D,[(0,l._)("div",M,[z,(0,l._)("div",W,(0,o.zw)(a.information.genre),1)])])])),_:1})])),_:1}),(0,l.Wm)(j,{onClick:a.activeDialog,class:"q-mt-md",color:"secondary"},{default:(0,l.w5)((()=>[(0,l.Uk)("editar perfil")])),_:1},8,["onClick"])]),a.showDialog?((0,l.wg)(),(0,l.j4)(L,{key:0,user:a.information,onClose:a.closeDialog,onSubmit:e[0]||(e[0]=e=>a.uploadProfile(e))},null,8,["user","onClose"])):(0,l.kq)("",!0)],64)}var G=i(7524),A=function(a,e,i,l){function o(a){return a instanceof i?a:new i((function(e){e(a)}))}return new(i||(i=Promise))((function(i,n){function t(a){try{r(l.next(a))}catch(e){n(e)}}function s(a){try{r(l["throw"](a))}catch(e){n(e)}}function r(a){a.done?i(a.value):o(a.value).then(t,s)}r((l=l.apply(a,e||[])).next())}))};const N="http://localhost:3000/",j={profileInformation(a){return A(this,void 0,void 0,(function*(){try{const e=yield G.Z.get(`${N}users?id=${a}`);if(e.data[0])return e.data[0]}catch(e){console.log(e)}}))},UpdateInformation(a,e){return A(this,void 0,void 0,(function*(){const i=yield G.Z.get(`${N}users?user=${a.user}`);if(i.data[0]&&a.user!==e)return!1;try{return yield G.Z.put(`${N}users/${a.id.toString()}`,{user:a.user,name:a.name,email:a.email,password:a.password,phone_number:a.phone_number,country:a.country,city:a.city,genre:a.genre}),!0}catch(l){return console.log(l),!1}}))}};var L=i(3100),R=i(9302);const Q=a=>((0,l.dD)("data-v-11711498"),a=a(),(0,l.Cn)(),a),$=Q((()=>(0,l._)("h4",{class:"q-ma-none text-center"},"Editando perfil",-1))),O={align:"right"};function F(a,e,i,o,n,t){const s=(0,l.up)("q-card-section"),r=(0,l.up)("q-input"),u=(0,l.up)("q-select"),d=(0,l.up)("q-btn"),c=(0,l.up)("q-form"),m=(0,l.up)("q-card"),p=(0,l.up)("q-dialog"),g=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(p,{modelValue:a.dialog,"onUpdate:modelValue":e[9]||(e[9]=e=>a.dialog=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"dialog q-pa-md q-mb-md",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[$])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:a.localUser.name,"onUpdate:modelValue":e[0]||(e[0]=e=>a.localUser.name=e),label:"Nombre",dense:"",class:"q-mb-md",rules:[a=>!!a||"Este campo es obligatorio."]},null,8,["modelValue","rules"]),(0,l.Wm)(r,{modelValue:a.localUser.user,"onUpdate:modelValue":e[1]||(e[1]=e=>a.localUser.user=e),label:"User",dense:"",class:"q-mb-md",rules:[a=>!!a||"Este campo es obligatorio."]},null,8,["modelValue","rules"]),(0,l.Wm)(r,{modelValue:a.localUser.email,"onUpdate:modelValue":e[2]||(e[2]=e=>a.localUser.email=e),label:"Email",type:"email",dense:"",class:"q-mb-md",rules:[a=>!!a||"Este campo es obligatorio."]},null,8,["modelValue","rules"]),(0,l.Wm)(r,{modelValue:a.localUser.password,"onUpdate:modelValue":e[3]||(e[3]=e=>a.localUser.password=e),label:"Clave",type:"password",dense:"",class:"q-mb-md",rules:[a=>!!a||"Este campo es obligatorio."]},null,8,["modelValue","rules"]),(0,l.Wm)(r,{modelValue:a.localUser.phone_number,"onUpdate:modelValue":e[4]||(e[4]=e=>a.localUser.phone_number=e),label:"Telefono",type:"number",dense:"",class:"q-mb-md",rules:[a=>!!a||"Este campo es obligatorio."]},null,8,["modelValue","rules"]),(0,l.Wm)(u,{class:"q-ma-none inputs",modelValue:a.localUser.country,"onUpdate:modelValue":e[5]||(e[5]=e=>a.localUser.country=e),dense:"",placeholder:"Selecciona tu pais",rules:[a=>!!a||"Debes seleccionar un pais"],options:a.countries,label:"pais"},null,8,["modelValue","rules","options"]),(0,l.Wm)(r,{modelValue:a.localUser.city,"onUpdate:modelValue":e[6]||(e[6]=e=>a.localUser.city=e),label:"Ciudad",dense:"",class:"q-mb-md",rules:[a=>!!a||"Este campo es obligatorio."]},null,8,["modelValue","rules"]),(0,l.Wm)(r,{modelValue:a.localUser.genre,"onUpdate:modelValue":e[7]||(e[7]=e=>a.localUser.genre=e),label:"Genero",dense:"",class:"q-mb-md",rules:[a=>!!a||"Este campo es obligatorio."]},null,8,["modelValue","rules"]),(0,l._)("div",O,[(0,l.Wm)(d,{type:"submit",push:"",color:"primary",onClick:a.uploadProfile},{default:(0,l.w5)((()=>[(0,l.Uk)(" guardar cambios")])),_:1},8,["onClick"]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(d,{class:"q-ml-md",color:"negative",push:"",onClick:e[8]||(e[8]=e=>a.$emit("close"))},{default:(0,l.w5)((()=>[(0,l.Uk)("Cancelar")])),_:1})),[[g]])])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}var H=i(9214);const K=(0,l.aZ)({name:"ProfileDialog",props:{user:{type:Object,required:!0}},data(){return{dialog:!0,localUser:Object.assign({},this.user),countries:H.o}},methods:{uploadProfile(){this.$emit("submit",this.localUser)}}});var J=i(1639),Y=i(2074),X=i(4458),aa=i(3190),ea=i(8326),ia=i(6611),la=i(6997),oa=i(9379),na=i(2146),ta=i(9984),sa=i.n(ta);const ra=(0,J.Z)(K,[["render",F],["__scopeId","data-v-11711498"]]),ua=ra;sa()(K,"components",{QDialog:Y.Z,QCard:X.Z,QCardSection:aa.Z,QForm:ea.Z,QInput:ia.Z,QSelect:la.Z,QBtn:oa.Z}),sa()(K,"directives",{ClosePopup:na.Z});var da=function(a,e,i,l){function o(a){return a instanceof i?a:new i((function(e){e(a)}))}return new(i||(i=Promise))((function(i,n){function t(a){try{r(l.next(a))}catch(e){n(e)}}function s(a){try{r(l["throw"](a))}catch(e){n(e)}}function r(a){a.done?i(a.value):o(a.value).then(t,s)}r((l=l.apply(a,e||[])).next())}))};const ca=(0,l.aZ)({name:"ProfileAccount",components:{profileDialog:ua},data(){const a=(0,R.Z)();return{information:[],showDialog:!1,$q:a}},computed:Object.assign(Object.assign({},(0,L.Se)("auth",["getUser"])),(0,L.Se)("auth",["getId"])),methods:Object.assign(Object.assign({},(0,L.OI)("auth",["login"])),{activeDialog(){this.showDialog=!0},closeDialog(){this.showDialog=!1},uploadProfile(a){return da(this,void 0,void 0,(function*(){const e=yield j.UpdateInformation(a,this.getUser);e?(this.showDialog=!1,this.information=yield j.profileInformation(this.getId),this.login({user:a.user,name:a.name,id:a.id})):this.$q.notify({type:"negative",message:"Ese usuario ya está registrado"})}))}}),mounted(){return da(this,void 0,void 0,(function*(){this.information=yield j.profileInformation(this.getId)}))}}),ma=(0,J.Z)(ca,[["render",T],["__scopeId","data-v-111f1c90"]]),pa=ma;sa()(ca,"components",{QCard:X.Z,QCardSection:aa.Z,QBtn:oa.Z})}}]);
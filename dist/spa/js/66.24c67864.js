(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[66],{9579:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var s=i(7524),o=function(e,t,i,s){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function a(e){try{l(s.next(e))}catch(t){n(t)}}function r(e){try{l(s["throw"](e))}catch(t){n(t)}}function l(e){e.done?i(e.value):o(e.value).then(a,r)}l((s=s.apply(e,t||[])).next())}))};const n="https://api.themoviedb.org/3/movie/",a="api_key=1b84b89236c65f17c4f3cfb56751525d",r={getPopular(e){return o(this,void 0,void 0,(function*(){try{const{data:t}=yield s.Z.get(`${n}/popular?page=${e}&${a}`);return t.results}catch(t){return console.log(t),[]}}))},getPopularByGenres(e,t){return o(this,void 0,void 0,(function*(){try{const{data:i}=yield s.Z.get(`${n}/popular?page=${t}&with_genres=${e.join(",")}&${a}`);return i.results}catch(i){return console.log(i),[]}}))},getByidMovie(e){return o(this,void 0,void 0,(function*(){try{const{data:t}=yield s.Z.get(`${n}${e}?${a}`);return t}catch(t){return console.log(t),[]}}))},getActorsByMovie(e){return o(this,void 0,void 0,(function*(){try{const{data:t}=yield s.Z.get(`${n}${e}/credits?${a}`);return t}catch(t){return console.log(t),[]}}))},getTrailersByMovie(e){return o(this,void 0,void 0,(function*(){try{const{data:t}=yield s.Z.get(`${n}${e}/videos?${a}`);return t.results}catch(t){return console.log(t),[]}}))},getMoviesFavorites(e){return o(this,void 0,void 0,(function*(){const t=[];for(let i=0;i<e.length;i++){const o=e[i].idMovie,r=yield s.Z.get(`${n}${o}?${a}`);t.push(r.data)}return t}))},getFilterMovies(e,t,i,r,l,c){return o(this,void 0,void 0,(function*(){try{const o={params:{"vote_average.gte":t.min,"vote_average.lte":t.max,"with_runtime.gte":i.min,"with_runtime.lte":i.max,with_genres:r.join(","),include_adult:!l,primary_release_year:e,page:c}},{data:d}=yield s.Z.get(`${n}popular?${a}`,o);return d.results}catch(o){console.log(o)}}))}}},4066:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>B});var s=i(9835);function o(e,t,i,o,n,a){const r=(0,s.up)("popular-movies");return(0,s.wg)(),(0,s.j4)(r)}var n=i(6970);const a=e=>((0,s.dD)("data-v-2546bd2c"),e=e(),(0,s.Cn)(),e),r=a((()=>(0,s._)("h3",{class:"q-my-none q-ml-lg"},"Popular movies",-1))),l={class:"row justify-center"},c={class:"col-md-2"},d=a((()=>(0,s._)("h6",{class:"q-my-md q-ml-md"},"Generos:",-1))),u={class:"col-md-10"},g={class:"row justify-center"},h={class:"q-my-none q-pb-md"},p={class:"q-mb-none"},v={key:0,class:"column"},m=a((()=>(0,s._)("h1",null,"Error al cargar la pagina",-1))),y=a((()=>(0,s._)("h3",null,"No hay mas peliculas por mostrar",-1))),f=[m,y],w={class:"q-mt-md row full-width justify-center"},M={class:"row q-my-lg q-mr-lg justify-end"};function k(e,t,o,a,m,y){const k=(0,s.up)("q-chip"),b=(0,s.up)("q-btn"),_=(0,s.up)("q-img"),j=(0,s.up)("router-link"),Z=(0,s.up)("q-card-section"),q=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)(s.HY,null,[r,(0,s._)("div",l,[(0,s._)("div",c,[d,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.genres,((t,i)=>((0,s.wg)(),(0,s.j4)(k,{key:t.id,color:e.isSelected(i)?"primary":"grey-5",onClick:t=>e.toggleChip(i),clickable:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(t.name),1)])),_:2},1032,["color","onClick"])))),128)),(0,s.Wm)(b,{color:"secondary",class:"q-mt-md",onClick:e.filter},{default:(0,s.w5)((()=>[(0,s.Uk)("buscar")])),_:1},8,["onClick"])]),(0,s._)("div",u,[(0,s._)("div",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.populares,((e,t)=>((0,s.wg)(),(0,s.j4)(q,{class:"cards q-ma-md",key:t},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{class:"flex justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(j,{to:{name:"movieDetails",params:{id:e.id}}},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{width:"120px",height:"180px",src:`${e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:i(8879)}`},null,8,["src"])])),_:2},1032,["to"])])),_:2},1024),(0,s.Wm)(Z,{class:"q-ma-none"},{default:(0,s.w5)((()=>[(0,s._)("h6",h,(0,n.zw)(e.title),1),(0,s._)("p",p,"Calificación: "+(0,n.zw)(e.vote_average),1),(0,s._)("p",null,"Fecha de estreno: "+(0,n.zw)(e.release_date),1)])),_:2},1024)])),_:2},1024)))),128)),e.populares[0]||e.getIsloading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",v,f))])])]),(0,s._)("div",w,[e.isFiltered?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(b,{key:0,class:"justify-center",color:"secondary",onClick:e.newPage},{default:(0,s.w5)((()=>[(0,s.Uk)(" ver mas ")])),_:1},8,["onClick"]))]),(0,s._)("div",M,[e.isFiltered&&e.page>1?((0,s.wg)(),(0,s.j4)(b,{key:0,class:"q-mr-md",onClick:e.backPage,color:"primary"},{default:(0,s.w5)((()=>[(0,s.Uk)("Pagina anterior")])),_:1},8,["onClick"])):(0,s.kq)("",!0),e.isFiltered&&e.populares[0]?((0,s.wg)(),(0,s.j4)(b,{key:1,color:"primary",onClick:e.nextPage},{default:(0,s.w5)((()=>[(0,s.Uk)("Pagina Siguiente")])),_:1},8,["onClick"])):(0,s.kq)("",!0)])],64)}var b=i(9579),_=i(3100),j=function(e,t,i,s){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function a(e){try{l(s.next(e))}catch(t){n(t)}}function r(e){try{l(s["throw"](e))}catch(t){n(t)}}function l(e){e.done?i(e.value):o(e.value).then(a,r)}l((s=s.apply(e,t||[])).next())}))};const Z=(0,s.aZ)({name:"PopularMovies",data(){return{populares:[],page:1,isFiltered:!1,genres:[{id:28,name:"Acción"},{id:12,name:"Aventura"},{id:16,name:"Animación"},{id:35,name:"Comedia"},{id:80,name:"Crimen"},{id:99,name:"Documental"},{id:18,name:"Drama"},{id:10751,name:"Familia"},{id:14,name:"Fantasía"},{id:36,name:"Historia"},{id:27,name:"Terror"},{id:10402,name:"Música"},{id:9648,name:"Misterio"},{id:10749,name:"Romance"},{id:878,name:"Ciencia ficción"},{id:10770,name:"Película de TV"},{id:53,name:"Suspenso"},{id:10752,name:"Bélica"},{id:37,name:"Western"}],selectedGenres:[]}},methods:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,_.OI)("movie",["setDefaultValue"])),(0,_.OI)("movie",["setFilterdefault"])),(0,_.OI)("movie",["setFilterMovie"])),(0,_.OI)("movie",["setLoadingMovies"])),{newPage(){return j(this,void 0,void 0,(function*(){if(this.page+=1,0===this.selectedGenres.length){const e=yield b.Z.getPopular(this.page);this.populares=[...this.populares,...e]}else{const e=yield b.Z.getPopularByGenres(this.selectedGenres,this.page);this.populares=[...this.populares,...e]}}))},toggleChip(e){const t=this.selectedGenres.indexOf(this.genres[e].id);-1===t?this.selectedGenres.push(this.genres[e].id):this.selectedGenres.splice(t,1)},isSelected(e){return this.selectedGenres.includes(this.genres[e].id)},filter(){return j(this,void 0,void 0,(function*(){this.isFiltered=!1,this.setFilterdefault(),this.page=1,0===this.selectedGenres.length?this.populares=yield b.Z.getPopular(this.page):this.populares=yield b.Z.getPopularByGenres(this.selectedGenres,this.page)}))},loadMovies(){return j(this,void 0,void 0,(function*(){this.setLoadingMovies(),this.populares=[],this.populares=yield b.Z.getFilterMovies(this.getYearMovie,this.getRateMovie,this.getDurationMovie,this.getGenresMovie,this.getAdultMovie,this.page),this.setLoadingMovies(),this.isFiltered=!0}))},nextPage(){this.page+=1,this.loadMovies()},backPage(){this.page-=1,this.loadMovies()}}),mounted(){return j(this,void 0,void 0,(function*(){this.setLoadingMovies(),this.getFilterMovie?(this.populares=yield b.Z.getFilterMovies(this.getYearMovie,this.getRateMovie,this.getDurationMovie,this.getGenresMovie,this.getAdultMovie,this.page),this.isFiltered=!0):this.populares=yield b.Z.getPopular(this.page),this.setFilterMovie(),this.setLoadingMovies()}))},computed:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,_.Se)("movie",["getFilterMovie"])),(0,_.Se)("movie",["getYearMovie"])),(0,_.Se)("movie",["getRateMovie"])),(0,_.Se)("movie",["getDurationMovie"])),(0,_.Se)("movie",["getGenresMovie"])),(0,_.Se)("movie",["getAdultMovie"])),(0,_.Se)("movie",["getIsloading"])),watch:{getFilterMovie(){return j(this,void 0,void 0,(function*(){this.getFilterMovie&&(this.page=1,yield this.loadMovies(),this.isFiltered=!0,this.setFilterMovie())}))}}});var q=i(1639),A=i(7691),C=i(9379),F=i(4458),P=i(3190),O=i(335),$=i(9984),G=i.n($);const x=(0,q.Z)(Z,[["render",k],["__scopeId","data-v-2546bd2c"]]),S=x;G()(Z,"components",{QChip:A.Z,QBtn:C.Z,QCard:F.Z,QCardSection:P.Z,QImg:O.Z});const U={name:"IndexMovie",components:{PopularMovies:S}},D=(0,q.Z)(U,[["render",o]]),B=D},8879:e=>{e.exports="data:image/webp;base64,UklGRgoBAABXRUJQVlA4IP4AAACwCwCdASp4ALQAPp1OoE2lpCMiIbZoMLATiWlu4XEhKAjAOwGtoX1xKhjO6nmXi9M7qeZeL0zup5l4dk8El1UG2iTSLvvIvPbDxbaBmtq9MrxMZ3U8y8XpndTzLxemd1PMvF6Z0QAA/v5SgAAs3hqL3WjY7k21EhFOcJUUxtmGc0XsVJy9U9M2YNuJyRbHbNRYIhMvZe8JK8zXdlhnyvYZrBFEwzlvk2qSYkbHojykw19Hd6ZViww/dRHX5TeX28gjaZvDv/UeCgfogO4CmsXbHzg40f4H60V/tX8HLzNUb8qdxOlabVXk3w435B1Wk+FEWzUjCPtuGNdAAAAAAA=="}}]);